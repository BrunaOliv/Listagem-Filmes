<mat-toolbar class="app-title">Cadastrar Filme</mat-toolbar>
<div class="main-div">
  <mat-card class="center width50" >
    <form autocomplete="off" novalidate [formGroup]="cadastro" (ngSubmit)="submit()" (ngReset)="reiniciarForm()">
      <mat-card-content>
          <mat-form-field class="full-width">
            <input matInput 
                  placeholder="Título *" 
                  name="titulo" 
                  formControlName="titulo">
            <mat-error *ngIf="validacao.hasErrorValidar(f.titulo, 'required')">Campo obrigatório</mat-error>
            <mat-error *ngIf="validacao.hasErrorValidar(f.titulo, 'minlength')">Campo precisa ter no minimo 2 caracter</mat-error>
            <mat-error *ngIf="validacao.hasErrorValidar(f.titulo, 'maxlength')">Campo pode ter no maximo 256 caracter</mat-error>
          </mat-form-field>
          <mat-form-field class="full-width">
            <input matInput 
                  placeholder="Link Foto"  
                  name="urlFoto" 
                  formControlName="urlFoto">
            <mat-error *ngIf="validacao.hasErrorValidar(f.urlFoto, 'minlength')">Campo precisa ter no minimo 10 caracter</mat-error>
          </mat-form-field>
          <mat-form-field class="full-width">
              <input matInput 
                    readonly
                    [matDatepicker]="picker" 
                    placeholder="Data de Lançamento *" 
                    name="dtLancamento" 
                    formControlName="dtLancamento"
                    (click)="picker.open()">
              <mat-error *ngIf="validacao.hasErrorValidar(f.dtLancamento, 'required')">Campo obrigatório</mat-error>
              <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
              <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>
          <mat-form-field class="full-width">
            <textarea matInput
                      placeholder="Descrição"
                      name="descricao" 
                      formControlName="descricao">
            </textarea>
          </mat-form-field>
          <mat-form-field class="full-width">
            <input matInput 
                  placeholder="Nota IMDb *" 
                  name="nota" 
                  formControlName="nota"
                  type="number"
                  min="0" 
                  max="10" 
                  step="0.1">
            <mat-error *ngIf="validacao.hasErrorValidar(f.nota, 'required')">Campo obrigatório</mat-error>
            <mat-error *ngIf="validacao.hasErrorValidar(f.nota, 'min')">O valor minimo do campo é 0</mat-error>
            <mat-error *ngIf="validacao.hasErrorValidar(f.nota, 'max')">O valor maximo do campo é 10</mat-error>
          </mat-form-field>
          <mat-form-field class="full-width">
            <input matInput 
                  placeholder="Link IMDb" 
                  name="urlIMDb" 
                  formControlName="urlIMDb">
            <mat-error *ngIf="validacao.hasErrorValidar(f.urlIMDb, 'minlength')">Campo precisa ter no minimo 10 caracter</mat-error>
          </mat-form-field>
          <mat-form-field class="full-width">
            <mat-select placeholder="Gênero *" formControlName="genero">
              <mat-option *ngFor="let genero of generoList" [value]="genero">{{genero}}</mat-option>
            </mat-select>
            <mat-error *ngIf="validacao.hasErrorValidar(f.genero, 'required')">Campo obrigatório</mat-error>
          </mat-form-field>
          
      </mat-card-content>
      </form>
        <mat-card-actions>
          <button (click)="submit()" color="accent" mat-raised-button>Salvar</button>
          <button (click)="reiniciarForm()" color="warn" mat-raised-button>Cancelar</button>
        </mat-card-actions>
  </mat-card>
</div>
